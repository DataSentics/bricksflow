# overrides default bundle settings defined in site-packages/datalakebundle/_config/config.yaml
parameters:
  datalakebundle:
    notebook:
      moduleTemplate: '%bricksflow.rootModule.name%.{layer}.{domain}.{tableIdentifier}.{tableIdentifier}'
    table:
      nameTemplate: '%kernel.environment%_{identifier}'
      defaults:
        basePath: '%datalake.basePath%' # from config.yaml
        layer: !expr 'dbIdentifier[:dbIdentifier.find("_")]' # bronze/silver/gold
        domain: !expr 'dbIdentifier[dbIdentifier.find("_") + 1:]' # covid
        targetPath: !expr 'basePath + "/" + layer + "/" + domain + "/" + tableIdentifier + ".delta"'
